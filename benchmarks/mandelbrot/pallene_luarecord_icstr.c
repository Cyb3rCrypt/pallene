/* This file was generated by the Pallene compiler. Do not edit by hand */
/* Indentation and formatting courtesy of pallene/pretty.lua */

#include <string.h>

#include "lua.h"
#include "lauxlib.h"
#include "lualib.h"

#include "lapi.h"
#include "lfunc.h"
#include "lgc.h"
#include "lobject.h"
#include "lstate.h"
#include "lstring.h"
#include "ltable.h"
#include "lvm.h"

#include "math.h"

#include "pallene_core.h"

static Table * function_new_pallene(
    lua_State * L,
    lua_Number x1 /* x */,
    lua_Number x2 /* y */
){
    static TString * x8;
    static TString * x12;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x3 = clCvalue(s2v(L->ci->func));
        Udata * x4 /* upvalue table */ = uvalue(&x3->upvalue[0]);
        UValue * x5 /* upvalue array */ = x4->uv;
        TValue * x7 =  &x5[3].uv ;
        x8 = tsvalue(x7);
        TValue * x11 =  &x5[4].uv ;
        x12 = tsvalue(x11);
    }

    {
        luaC_condGC(L, {
        }, {
        });
        Table * x6 = luaH_new(L);
        luaH_resize(L, x6, 0, 2);
        TValue x9;
        setsvalue(L, &x9, x8);
        TValue * x10 = luaH_newkey(L, x6, &x9);
        setfltvalue(x10, x1);
        TValue x13;
        setsvalue(L, &x13, x12);
        TValue * x14 = luaH_newkey(L, x6, &x13);
        setfltvalue(x14, x2);
        return x6;
    }
}

static int function_new_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 2)) {
        pallene_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttisfloat(x6))) {
        pallene_runtime_argument_type_error(L, "x", 1, LUA_TNUMFLT, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (PALLENE_UNLIKELY(!ttisfloat(x7))) {
        pallene_runtime_argument_type_error(L, "y", 1, LUA_TNUMFLT, x7);
    }
    lua_Number x8 = fltvalue(s2v(x4 + 1));
    lua_Number x9 = fltvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_new_pallene(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static Table * function_clone_pallene(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 3);

    static TString * x7;
    static TString * x12;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x2 = clCvalue(s2v(L->ci->func));
        Udata * x3 /* upvalue table */ = uvalue(&x2->upvalue[0]);
        UValue * x4 /* upvalue array */ = x3->uv;
        TValue * x6 =  &x4[3].uv ;
        x7 = tsvalue(x6);
        TValue * x11 =  &x4[4].uv ;
        x12 = tsvalue(x11);
    }

    {
        static int x9 = INT_MAX;
        TValue * x8 = pallene_getstr(x1, x7, &x9);
        if (PALLENE_UNLIKELY(!ttisfloat(x8))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 6, LUA_TNUMFLT, rawtt(x8)
            );
        }
        lua_Number x5 = fltvalue(x8);
        static int x14 = INT_MAX;
        TValue * x13 = pallene_getstr(x1, x12, &x14);
        if (PALLENE_UNLIKELY(!ttisfloat(x13))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 6, LUA_TNUMFLT, rawtt(x13)
            );
        }
        lua_Number x10 = fltvalue(x13);
        StackValue* x15 = L->top;
        sethvalue(L, s2v(x15), x1); x15++;
        setsvalue(L, s2v(x15), x7); x15++;
        setsvalue(L, s2v(x15), x12); x15++;
        L->top = x15;
        Table * x16 = function_new_pallene(L, x5, x10);
        L->top -= 3;
        return x16;
    }
}

static int function_clone_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 1)) {
        pallene_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 5, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    Table * x8 /* ret */ = function_clone_pallene(L, x7);
    sethvalue(L, s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static Table * function_conj_pallene(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 3);

    static TString * x7;
    static TString * x12;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x2 = clCvalue(s2v(L->ci->func));
        Udata * x3 /* upvalue table */ = uvalue(&x2->upvalue[0]);
        UValue * x4 /* upvalue array */ = x3->uv;
        TValue * x6 =  &x4[3].uv ;
        x7 = tsvalue(x6);
        TValue * x11 =  &x4[4].uv ;
        x12 = tsvalue(x11);
    }

    {
        static int x9 = INT_MAX;
        TValue * x8 = pallene_getstr(x1, x7, &x9);
        if (PALLENE_UNLIKELY(!ttisfloat(x8))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 10, LUA_TNUMFLT, rawtt(x8)
            );
        }
        lua_Number x5 = fltvalue(x8);
        static int x14 = INT_MAX;
        TValue * x13 = pallene_getstr(x1, x12, &x14);
        if (PALLENE_UNLIKELY(!ttisfloat(x13))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 10, LUA_TNUMFLT, rawtt(x13)
            );
        }
        lua_Number x10 = fltvalue(x13);
        lua_Number x15 = - x10;
        StackValue* x16 = L->top;
        sethvalue(L, s2v(x16), x1); x16++;
        setsvalue(L, s2v(x16), x7); x16++;
        setsvalue(L, s2v(x16), x12); x16++;
        L->top = x16;
        Table * x17 = function_new_pallene(L, x5, x15);
        L->top -= 3;
        return x17;
    }
}

static int function_conj_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 1)) {
        pallene_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 9, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    Table * x8 /* ret */ = function_conj_pallene(L, x7);
    sethvalue(L, s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static Table * function_add_pallene(
    lua_State * L,
    Table * x1 /* x */,
    Table * x2 /* y */
){
    lua_checkstack(L, 6);

    static TString * x8;
    static TString * x13;
    static TString * x19;
    static TString * x24;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x3 = clCvalue(s2v(L->ci->func));
        Udata * x4 /* upvalue table */ = uvalue(&x3->upvalue[0]);
        UValue * x5 /* upvalue array */ = x4->uv;
        TValue * x7 =  &x5[3].uv ;
        x8 = tsvalue(x7);
        TValue * x12 =  &x5[3].uv ;
        x13 = tsvalue(x12);
        TValue * x18 =  &x5[4].uv ;
        x19 = tsvalue(x18);
        TValue * x23 =  &x5[4].uv ;
        x24 = tsvalue(x23);
    }

    {
        static int x10 = INT_MAX;
        TValue * x9 = pallene_getstr(x1, x8, &x10);
        if (PALLENE_UNLIKELY(!ttisfloat(x9))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 14, LUA_TNUMFLT, rawtt(x9)
            );
        }
        lua_Number x6 = fltvalue(x9);
        static int x15 = INT_MAX;
        TValue * x14 = pallene_getstr(x2, x13, &x15);
        if (PALLENE_UNLIKELY(!ttisfloat(x14))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 14, LUA_TNUMFLT, rawtt(x14)
            );
        }
        lua_Number x11 = fltvalue(x14);
        lua_Number x16 = x6 + x11;
        static int x21 = INT_MAX;
        TValue * x20 = pallene_getstr(x1, x19, &x21);
        if (PALLENE_UNLIKELY(!ttisfloat(x20))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 14, LUA_TNUMFLT, rawtt(x20)
            );
        }
        lua_Number x17 = fltvalue(x20);
        static int x26 = INT_MAX;
        TValue * x25 = pallene_getstr(x2, x24, &x26);
        if (PALLENE_UNLIKELY(!ttisfloat(x25))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 14, LUA_TNUMFLT, rawtt(x25)
            );
        }
        lua_Number x22 = fltvalue(x25);
        lua_Number x27 = x17 + x22;
        StackValue* x28 = L->top;
        sethvalue(L, s2v(x28), x1); x28++;
        sethvalue(L, s2v(x28), x2); x28++;
        setsvalue(L, s2v(x28), x8); x28++;
        setsvalue(L, s2v(x28), x13); x28++;
        setsvalue(L, s2v(x28), x19); x28++;
        setsvalue(L, s2v(x28), x24); x28++;
        L->top = x28;
        Table * x29 = function_new_pallene(L, x16, x27);
        L->top -= 6;
        return x29;
    }
}

static int function_add_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 2)) {
        pallene_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 13, LUA_TTABLE, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (PALLENE_UNLIKELY(!ttistable(x7))) {
        pallene_runtime_argument_type_error(L, "y", 13, LUA_TTABLE, x7);
    }
    Table * x8 = hvalue(s2v(x4 + 1));
    Table * x9 = hvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_add_pallene(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static Table * function_mul_pallene(
    lua_State * L,
    Table * x1 /* x */,
    Table * x2 /* y */
){
    lua_checkstack(L, 10);

    static TString * x8;
    static TString * x13;
    static TString * x19;
    static TString * x24;
    static TString * x31;
    static TString * x36;
    static TString * x42;
    static TString * x47;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x3 = clCvalue(s2v(L->ci->func));
        Udata * x4 /* upvalue table */ = uvalue(&x3->upvalue[0]);
        UValue * x5 /* upvalue array */ = x4->uv;
        TValue * x7 =  &x5[3].uv ;
        x8 = tsvalue(x7);
        TValue * x12 =  &x5[3].uv ;
        x13 = tsvalue(x12);
        TValue * x18 =  &x5[4].uv ;
        x19 = tsvalue(x18);
        TValue * x23 =  &x5[4].uv ;
        x24 = tsvalue(x23);
        TValue * x30 =  &x5[3].uv ;
        x31 = tsvalue(x30);
        TValue * x35 =  &x5[4].uv ;
        x36 = tsvalue(x35);
        TValue * x41 =  &x5[4].uv ;
        x42 = tsvalue(x41);
        TValue * x46 =  &x5[3].uv ;
        x47 = tsvalue(x46);
    }

    {
        static int x10 = INT_MAX;
        TValue * x9 = pallene_getstr(x1, x8, &x10);
        if (PALLENE_UNLIKELY(!ttisfloat(x9))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 18, LUA_TNUMFLT, rawtt(x9)
            );
        }
        lua_Number x6 = fltvalue(x9);
        static int x15 = INT_MAX;
        TValue * x14 = pallene_getstr(x2, x13, &x15);
        if (PALLENE_UNLIKELY(!ttisfloat(x14))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 18, LUA_TNUMFLT, rawtt(x14)
            );
        }
        lua_Number x11 = fltvalue(x14);
        lua_Number x16 = x6 * x11;
        static int x21 = INT_MAX;
        TValue * x20 = pallene_getstr(x1, x19, &x21);
        if (PALLENE_UNLIKELY(!ttisfloat(x20))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 18, LUA_TNUMFLT, rawtt(x20)
            );
        }
        lua_Number x17 = fltvalue(x20);
        static int x26 = INT_MAX;
        TValue * x25 = pallene_getstr(x2, x24, &x26);
        if (PALLENE_UNLIKELY(!ttisfloat(x25))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 18, LUA_TNUMFLT, rawtt(x25)
            );
        }
        lua_Number x22 = fltvalue(x25);
        lua_Number x27 = x17 * x22;
        lua_Number x28 = x16 - x27;
        static int x33 = INT_MAX;
        TValue * x32 = pallene_getstr(x1, x31, &x33);
        if (PALLENE_UNLIKELY(!ttisfloat(x32))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 18, LUA_TNUMFLT, rawtt(x32)
            );
        }
        lua_Number x29 = fltvalue(x32);
        static int x38 = INT_MAX;
        TValue * x37 = pallene_getstr(x2, x36, &x38);
        if (PALLENE_UNLIKELY(!ttisfloat(x37))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 18, LUA_TNUMFLT, rawtt(x37)
            );
        }
        lua_Number x34 = fltvalue(x37);
        lua_Number x39 = x29 * x34;
        static int x44 = INT_MAX;
        TValue * x43 = pallene_getstr(x1, x42, &x44);
        if (PALLENE_UNLIKELY(!ttisfloat(x43))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 18, LUA_TNUMFLT, rawtt(x43)
            );
        }
        lua_Number x40 = fltvalue(x43);
        static int x49 = INT_MAX;
        TValue * x48 = pallene_getstr(x2, x47, &x49);
        if (PALLENE_UNLIKELY(!ttisfloat(x48))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 18, LUA_TNUMFLT, rawtt(x48)
            );
        }
        lua_Number x45 = fltvalue(x48);
        lua_Number x50 = x40 * x45;
        lua_Number x51 = x39 + x50;
        StackValue* x52 = L->top;
        sethvalue(L, s2v(x52), x1); x52++;
        sethvalue(L, s2v(x52), x2); x52++;
        setsvalue(L, s2v(x52), x8); x52++;
        setsvalue(L, s2v(x52), x13); x52++;
        setsvalue(L, s2v(x52), x19); x52++;
        setsvalue(L, s2v(x52), x24); x52++;
        setsvalue(L, s2v(x52), x31); x52++;
        setsvalue(L, s2v(x52), x36); x52++;
        setsvalue(L, s2v(x52), x42); x52++;
        setsvalue(L, s2v(x52), x47); x52++;
        L->top = x52;
        Table * x53 = function_new_pallene(L, x28, x51);
        L->top -= 10;
        return x53;
    }
}

static int function_mul_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 2)) {
        pallene_runtime_arity_error(L, 2, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 17, LUA_TTABLE, x6);
    }
    TValue* x7 = s2v(x4 + 2);
    if (PALLENE_UNLIKELY(!ttistable(x7))) {
        pallene_runtime_argument_type_error(L, "y", 17, LUA_TTABLE, x7);
    }
    Table * x8 = hvalue(s2v(x4 + 1));
    Table * x9 = hvalue(s2v(x4 + 2));
    Table * x10 /* ret */ = function_mul_pallene(L, x8, x9);
    sethvalue(L, s2v(L->top), x10);
    api_incr_top(L);
    return 1;
}

static lua_Number function_norm2_pallene(
    lua_State * L,
    Table * x1 /* x */
){
    static TString * x7;
    static TString * x12;
    static TString * x18;
    static TString * x23;
    static int ic = 0;
    if (ic == 0) {
        ic = 1;
        CClosure * x2 = clCvalue(s2v(L->ci->func));
        Udata * x3 /* upvalue table */ = uvalue(&x2->upvalue[0]);
        UValue * x4 /* upvalue array */ = x3->uv;
        TValue * x6 =  &x4[3].uv ;
        x7 = tsvalue(x6);
        TValue * x11 =  &x4[3].uv ;
        x12 = tsvalue(x11);
        TValue * x17 =  &x4[4].uv ;
        x18 = tsvalue(x17);
        TValue * x22 =  &x4[4].uv ;
        x23 = tsvalue(x22);
    }

    {
        static int x9 = INT_MAX;
        TValue * x8 = pallene_getstr(x1, x7, &x9);
        if (PALLENE_UNLIKELY(!ttisfloat(x8))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 22, LUA_TNUMFLT, rawtt(x8)
            );
        }
        lua_Number x5 = fltvalue(x8);
        static int x14 = INT_MAX;
        TValue * x13 = pallene_getstr(x1, x12, &x14);
        if (PALLENE_UNLIKELY(!ttisfloat(x13))) {
            pallene_runtime_lrecord_type_error(
                L, "re", 22, LUA_TNUMFLT, rawtt(x13)
            );
        }
        lua_Number x10 = fltvalue(x13);
        lua_Number x15 = x5 * x10;
        static int x20 = INT_MAX;
        TValue * x19 = pallene_getstr(x1, x18, &x20);
        if (PALLENE_UNLIKELY(!ttisfloat(x19))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 22, LUA_TNUMFLT, rawtt(x19)
            );
        }
        lua_Number x16 = fltvalue(x19);
        static int x25 = INT_MAX;
        TValue * x24 = pallene_getstr(x1, x23, &x25);
        if (PALLENE_UNLIKELY(!ttisfloat(x24))) {
            pallene_runtime_lrecord_type_error(
                L, "im", 22, LUA_TNUMFLT, rawtt(x24)
            );
        }
        lua_Number x21 = fltvalue(x24);
        lua_Number x26 = x16 * x21;
        lua_Number x27 = x15 + x26;
        return x27;
    }
}

static int function_norm2_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 1)) {
        pallene_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 21, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    lua_Number x8 /* ret */ = function_norm2_pallene(L, x7);
    setfltvalue(s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

static lua_Number function_abs_pallene(
    lua_State * L,
    Table * x1 /* x */
){
    lua_checkstack(L, 1);
    CClosure * x2 = clCvalue(s2v(L->ci->func));
    Udata * x3 /* upvalue table */ = uvalue(&x2->upvalue[0]);
    UValue * x4 /* upvalue array */ = x3->uv;
    (void)x4;
    {
        StackValue* x5 = L->top;
        sethvalue(L, s2v(x5), x1); x5++;
        L->top = x5;
        lua_Number x6 = function_norm2_pallene(L, x1);
        L->top -= 1;
        return x6;
    }
}

static int function_abs_lua(lua_State *L)
{
    lua_checkstack(L, 1);
    CClosure * x1 = clCvalue(s2v(L->ci->func));
    Udata * x2 /* upvalue table */ = uvalue(&x1->upvalue[0]);
    UValue * x3 /* upvalue array */ = x2->uv;
    (void)x3;
    StackValue* x4 = L->ci->func;
    int x5 /* nargs */ = cast_int(L->top - (x4 + 1));
    if (PALLENE_UNLIKELY(x5 != 1)) {
        pallene_runtime_arity_error(L, 1, x5);
    }
    TValue* x6 = s2v(x4 + 1);
    if (PALLENE_UNLIKELY(!ttistable(x6))) {
        pallene_runtime_argument_type_error(L, "x", 25, LUA_TTABLE, x6);
    }
    Table * x7 = hvalue(s2v(x4 + 1));
    lua_Number x8 /* ret */ = function_abs_pallene(L, x7);
    setfltvalue(s2v(L->top), x8);
    api_incr_top(L);
    return 1;
}

int luaopen_benchmarks_mandelbrot_pallene_luarecord_icstr(lua_State *L)
{
    lua_checkstack(L, 4);
    /* Allocate upvalue table */
    /* ---------------------- */
    Udata * x1 = luaS_newudata(L, 0, 12);
    UValue * x2 = x1->uv;
    /* Initialize upvalues */
    /* ------------------- */
    TString * x3 = luaS_new(L, "__index");
    setsvalue(L,  &x2[0].uv , x3);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x3))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    TString * x4 = luaS_new(L, "__newindex");
    setsvalue(L,  &x2[1].uv , x4);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x4))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    TString * x5 = luaS_new(L, "__metatable");
    setsvalue(L,  &x2[2].uv , x5);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x5))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    TString * x6 = luaS_new(L, "re");
    setsvalue(L,  &x2[3].uv , x6);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x6))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    TString * x7 = luaS_new(L, "im");
    setsvalue(L,  &x2[4].uv , x7);
    if (isblack(obj2gco(x1)) && iswhite(obj2gco(x7))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* new */
    CClosure* x8 = luaF_newCclosure(L, 1);
    x8->f = function_new_lua;
    setuvalue(L, &x8->upvalue[0], x1);
    TValue x9; setclCvalue(L, &x9, x8);
    setobj(L,  &x2[5].uv , &x9);
    if (iscollectable(&x9) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x9))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* clone */
    CClosure* x10 = luaF_newCclosure(L, 1);
    x10->f = function_clone_lua;
    setuvalue(L, &x10->upvalue[0], x1);
    TValue x11; setclCvalue(L, &x11, x10);
    setobj(L,  &x2[6].uv , &x11);
    if (iscollectable(&x11) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x11))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* conj */
    CClosure* x12 = luaF_newCclosure(L, 1);
    x12->f = function_conj_lua;
    setuvalue(L, &x12->upvalue[0], x1);
    TValue x13; setclCvalue(L, &x13, x12);
    setobj(L,  &x2[7].uv , &x13);
    if (iscollectable(&x13) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x13))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* add */
    CClosure* x14 = luaF_newCclosure(L, 1);
    x14->f = function_add_lua;
    setuvalue(L, &x14->upvalue[0], x1);
    TValue x15; setclCvalue(L, &x15, x14);
    setobj(L,  &x2[8].uv , &x15);
    if (iscollectable(&x15) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x15))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* mul */
    CClosure* x16 = luaF_newCclosure(L, 1);
    x16->f = function_mul_lua;
    setuvalue(L, &x16->upvalue[0], x1);
    TValue x17; setclCvalue(L, &x17, x16);
    setobj(L,  &x2[9].uv , &x17);
    if (iscollectable(&x17) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x17))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* norm2 */
    CClosure* x18 = luaF_newCclosure(L, 1);
    x18->f = function_norm2_lua;
    setuvalue(L, &x18->upvalue[0], x1);
    TValue x19; setclCvalue(L, &x19, x18);
    setobj(L,  &x2[10].uv , &x19);
    if (iscollectable(&x19) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x19))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* abs */
    CClosure* x20 = luaF_newCclosure(L, 1);
    x20->f = function_abs_lua;
    setuvalue(L, &x20->upvalue[0], x1);
    TValue x21; setclCvalue(L, &x21, x20);
    setobj(L,  &x2[11].uv , &x21);
    if (iscollectable(&x21) && isblack(obj2gco(x1)) && iswhite(gcvalue(&x21))) {
        luaC_barrierback_(L, obj2gco(x1));
    }
    /* Create exports table */
    /* -------------------- */
    StackValue* x22 = L->top;
    setuvalue(L, s2v(x22), x1); x22++;
    L->top = x22;
    lua_createtable(L, 0, 7);
    lua_pushstring(L, "new");
    setobj(L, s2v(L->top),  &x2[5].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "clone");
    setobj(L, s2v(L->top),  &x2[6].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "conj");
    setobj(L, s2v(L->top),  &x2[7].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "add");
    setobj(L, s2v(L->top),  &x2[8].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "mul");
    setobj(L, s2v(L->top),  &x2[9].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "norm2");
    setobj(L, s2v(L->top),  &x2[10].uv ); api_incr_top(L);
    lua_settable(L, -3);
    lua_pushstring(L, "abs");
    setobj(L, s2v(L->top),  &x2[11].uv ); api_incr_top(L);
    lua_settable(L, -3);
    return 1;
}

